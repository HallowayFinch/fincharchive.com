<!-- /_includes/header.html -->
<header class="site">
  <div class="wrap header-bar">
    <!-- Row 1: brand (left) + actions (right) -->
    <div class="brand">
      <span class="dot" aria-hidden="true"></span>
      <a href="{{ '/' | relative_url }}">{{ site.title }}</a>
    </div>

    <div class="header-actions">
      <button id="theme-toggle"
              class="theme-toggle"
              type="button"
              aria-pressed="false"
              title="Toggle color scheme">
        <!-- SUN (visible in dark theme; action = go light) -->
        <svg class="icon icon-sun" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <circle cx="12" cy="12" r="4"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.6" />
          <g stroke="currentColor" stroke-width="1.6" stroke-linecap="round">
            <line x1="12" y1="2.5" x2="12" y2="5" />
            <line x1="12" y1="19"  x2="12" y2="21.5" />
            <line x1="2.5" y1="12" x2="5"  y2="12" />
            <line x1="19"  y1="12" x2="21.5" y2="12" />
          </g>
        </svg>

        <!-- MOON (visible in light theme; action = go dark) -->
        <svg class="icon icon-moon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <!-- Robust, non-overlapping crescent -->
          <path fill="currentColor"
                d="M21 12.79A9 9 0 1 1 11.21 3
                   a7.001 7.001 0 0 0 9.79 9.79Z"/>
        </svg>

        <span class="visually-hidden">Toggle color scheme</span>
      </button>
    </div>

    <!-- Row 2: primary nav (full width on mobile) -->
    <nav class="primary-nav" aria-label="Primary">
      {% assign here = page.url | relative_url %}
      <a href="{{ '/' | relative_url }}" {% if here == '/' %}aria-current="page"{% endif %}>Home</a>

      <a href="{{ '/logs/' | relative_url }}"
         {% if here == '/logs/' or here contains '/logs/' or page.collection == 'logs' %}aria-current="page"{% endif %}>
        Logs
      </a>

      <a href="{{ '/field-notes/' | relative_url }}"
         {% if here == '/field-notes/' or here contains '/field-notes/' or page.collection == 'field-notes' %}aria-current="page"{% endif %}>
        Field Notes
      </a>

      <a href="{{ '/about/' | relative_url }}"
         {% if here == '/about/' %}aria-current="page"{% endif %}>About</a>
    </nav>
  </div>
</header>